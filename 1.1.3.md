## 1.1.3 加载和安装R包 ##

There are many well-designed, -maintained, and -supported R packages related to ma- chine learning. With respect to the case studies we will describe, there are packages for dealing with spatial data, text analysis, network structures, and interacting with web- based APIs, among many others. As such, we will be relying heavily on the functionality built into several of these packages.

在R中加载包是非常容易的，有两个函数可以做到：library 和 require。他们之间有一些细微的差别，但是对于在本书中的使用来说，主要的区别在于 require 会返回一个布尔值(True或False)来表示被加载的包是不是可用，而 library 函数会根据调用方式不同而有不同返回结果（这点在本书不重要）。比如，在第六章我们会使用tm包来处理文本。要加载这些包我们可以用library或require任意一种。在下面的例子中，我们用library加载tm包，用require加载xml包。我们可以看到在xml包加载完成后print函数打印了True：

    library(tm)
    print(require(XML))
    #[1] TRUE

如果我们还没有安装XML包，也就是说require返回False，那么我们需要在继续之前先安装这个包。

>>如果你的R是全新安装的，那么你需要安装一系列的包来进行本书后面的案例。

在R中安装包有两种途径：直接使用图形化界面或者在命令行使用install.packages函数。考虑到这本书的目标读者，我们会在案例学习的过程中仅仅使用控制台来操作。但是告诉大家如何从图形界面安装包也是有必要的：在菜单栏(Menu)找到Packages & Data -> Package Installer，你会看到一个新窗口（如Figure 1-4显示），按照上面的提示操作即可，如果你有必要的编译器，我们建议你从源码安装这些包。

![Figure 1-4](images/figure 1-4.png?raw=true "Figure 1-4")

install.packages函数是用来安装扩展包的更好选择，这是因为它提供了更多的灵活性让你可以选择如何安装和在哪儿安装。install.packages的一个重要的优点是，如果你要安装一个CRAN上没有的包或希望用自己的包，它允许你从本地直接安装。在下面这些例子中你需要从源码安装：

    install.packages("tm", dependencies=TRUE)
    setwd("~/Downloads/")
    install.packages("RCurl_1.5-0.tar.gz", repos=NULL, type="source")

在第一个例子中，我们使用默认的设置从CRAN来安装tm包，tm包提供了一个用来做文本挖掘的功能，我们将在第三章用来演示邮件文本的分类。install.packages的一个有用的参数dependencies默认是FALSE，如果设置为TRUE的话就会告诉R把当前安装的包所需要的其他包也都下载下来。作为最佳实践，我们建议总是把这个值设置为TRUE，尤其是新安装的R环境。


Alternatively, we can also install directly from compressed source files. In the previous example, we installed the RCurl package from the source code available on the author’s website. Using the setwd function to make sure the R working directory is set to the directory where the source file has been saved, we can simply execute the command shown earlier to install directly from the source code. Note the two parameters that have been altered in this case. First, we must tell the function not to use one of the CRAN repositories by setting repos=NULL, and we also specify the type of installation using type="source".

![Table 1-2](https://raw.github.com/royguo/ml_hackers/master/images/table 1-2.png "Table 1-2")

As mentioned, we will use several packages through the course of this book. Table 1-2 lists all of the packages used in the case studies and includes a brief description of their purpose, along with a link to additional information about each. Given the number of prerequisite packages, to expedite the installation process we have created a short script that will check whether each required package is installed and, if it is not, will attempt to install it from CRAN. To run the script, use the setwd function to set the Working Directory to the code folder for this chapter, and execute the source command as shown here:

    source("package_installer.R")

If you have not yet done so, you may be asked to select a CRAN repository. Once set, the script will run, and you will see the progress of any required package installation that you did not yet have. We are now ready to begin exploring machine learning with R! Before we proceed to the case studies, however, we will review some R functions and operations that we will use frequently.


